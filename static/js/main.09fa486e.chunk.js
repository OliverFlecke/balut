(this["webpackJsonpbalut-react"]=this["webpackJsonpbalut-react"]||[]).push([[0],{30:function(e,t,n){e.exports=n(41)},41:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(25),l=n.n(u),c=n(2),o=n(10),i=n(17),s=n(3),f=n(1),d=n(6),m=n.n(d),b="#CCC",v="#CCC",p="#000",E="#222",j="#09F",h="#09C",O=m()("mode",{dark:b}),g=m()("mode",{dark:h});function y(){var e=Object(c.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n"]);return y=function(){return e},e}function k(){var e=Object(c.a)(["\n\tdisplay: inline;\n\tlist-style-type: none;\n\tpadding: 0;\n\tmargin: 0;\n"]);return k=function(){return e},e}function x(){var e=Object(c.a)(["\n\tbackground-color: ",";\n\tcolor: ",";\n\tpadding: 10px;\n\tmargin: 6px;\n\tborder: none;\n\tborder-radius: 6px;\n\tfont-size: 1.2em;\n"]);return x=function(){return e},e}var w,C=m.a.variants("mode","variant",{disabled:{dark:"darkgray"},primary:{dark:"darkblue"}}),F=m.a.variants("mode","variant",{disabled:{dark:v},primary:{dark:v}}),S=f.d.button(x(),C,F),N=f.d.ul(k()),B=f.d.li(y()),I=function(){var e=Object(r.useRef)(null);Object(r.useEffect)((function(){}),[]);var t=Object(r.useCallback)((function(e){"Enter"===e.key&&(e.currentTarget.value="")}),[]),n=Object(r.useCallback)((function(){}),[]);return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("input",{ref:e}),a.a.createElement(S,{onClick:n},"Join session")),a.a.createElement("h3",null,"Send message"),a.a.createElement("input",{onKeyDown:t}))};function D(e){return e===w.FullHouse?"Full house":w[e]}function H(){var e=Object(c.a)(["\n\tborder: 1px solid ",";\n\tpadding: 4px;\n\ttext-align: center;\n\tmin-width: 20px;\n"]);return H=function(){return e},e}function R(){var e=Object(c.a)(["\n\ttext-align: left;\n\tborder: 1px solid ",";\n\tpadding: 4px;\n"]);return R=function(){return e},e}function V(){var e=Object(c.a)([""]);return V=function(){return e},e}function z(){var e=Object(c.a)(["\n\tborder-collapse: collapse;\n\twidth: 100%;\n\tmax-width: ",";\n"]);return z=function(){return e},e}!function(e){e[e.Fours=0]="Fours",e[e.Fives=1]="Fives",e[e.Sixes=2]="Sixes",e[e.Straight=3]="Straight",e[e.FullHouse=4]="FullHouse",e[e.Chance=5]="Chance",e[e.Balut=6]="Balut"}(w||(w={}));var X=f.d.table(z(),"760px"),A=f.d.tr(V()),J=f.d.th(R(),O),T=f.d.td(H(),O);function M(e){return Object.keys(e).filter((function(t){return"number"!==typeof e[t]})).map((function(e){return parseInt(e)}))}var P=n(22);function W(e,t){return(null!==t&&void 0!==t?t:Object(P.a)(Array(5))).map((function(t,n){return e[n]?t:Math.floor(6*Math.random())+1}))}function L(){return Object(P.a)(Array(5)).map((function(){return!1}))}function G(e){return e.reduce((function(e,t){return e+t}),0)}function K(){var e=Object(c.a)(["\n\tfont-size: 1.4em;\n\tborder-bottom: 1px solid white;\n"]);return K=function(){return e},e}function $(){var e=Object(c.a)(["\n\tdisplay: flex;\n\twidth: 100%;\n\tjustify-content: flex-end;\n\tmargin: 6px 0;\n\tmax-width: ",";\n"]);return $=function(){return e},e}var q=function(e){var t=e.points;return a.a.createElement(Q,null,a.a.createElement(U,null,a.a.createElement("span",null,"Final score: "),a.a.createElement("span",null,t)))},Q=f.d.div($(),"760px"),U=f.d.div(K()),Y=function(e){var t=e.total,n=e.extraPoints;return a.a.createElement("tfoot",null,a.a.createElement(A,null,a.a.createElement("td",{colSpan:5}),a.a.createElement(T,null,t),a.a.createElement(T,null,n)))},Z=function(){return a.a.createElement("thead",null,a.a.createElement(A,null,a.a.createElement("td",{colSpan:5}),a.a.createElement(T,null,"Total"),a.a.createElement(T,null,"Points")))};function _(){var e=Object(c.a)(["\n\tbackground-color: ",";\n\tcolor: ",";\n\tuser-select: none;\n\tpadding: 0 4px;\n\theight: 2em;\n"]);return _=function(){return e},e}var ee=function(e){var t=e.category,n=e.value,u=e.index,l=e.suggestion,c=e.writeValue,o=Object(r.useCallback)((function(){l&&c&&c(t,u,l)}),[c,u,l,t]);return a.a.createElement(re,{onClick:o,variant:l?"suggestion":"default"},function(e){return void 0===e||null===e||0===e?"":"X"===e?"X":e.toString()}(null!==n?n:l))};var te=m()("mode",{dark:E}),ne=m.a.variants("mode","variant",{default:{dark:v},suggestion:{dark:j}}),re=Object(f.d)(T)(_(),te,ne),ae=n(29);function ue(e,t){switch(e){case w.Balut:return 2*t.filter((function(e){return"number"===typeof e&&0!==e})).length;case w.Chance:return le(t)>=100?2:0;case w.FullHouse:return 4===t.filter((function(e){return"number"===typeof e})).length?3:0;case w.Straight:return 4===t.filter((function(e){return"number"===typeof e})).length?4:0;case w.Sixes:return le(t)>=78?2:0;case w.Fives:return le(t)>=65?2:0;case w.Fours:return le(t)>=52?2:0}}function le(e){return e.filter((function(e){return"number"===typeof e})).map((function(e){return e})).reduce((function(e,t){return e+t}),0)}var ce=[300,350,400,450,500,550,600,650];function oe(e,t){if(!t)return null;switch(e){case w.Fours:return G(t.filter((function(e){return 4===e})));case w.Fives:return G(t.filter((function(e){return 5===e})));case w.Sixes:return G(t.filter((function(e){return 6===e})));case w.Straight:return function(e){return e.some((function(e){return 1===e||6===e}))&&[2,3,4,5].every((function(t){return e.includes(t)}))}(t)?G(t):"X";case w.FullHouse:return function(e){var t=new Set(e);if(2!==t.size)return!1;return Array.from(t).every((function(t){var n=e.filter((function(e){return e===t})).length;return 3===n||2===n}))}(t)?G(t):"X";case w.Chance:return G(t);case w.Balut:return t.every((function(e){return e===t[0]}))?G(t)+20:"X"}}var ie=function(e){var t=e.category,n=e.values,u=e.roll,l=e.writeValue,c=Object(r.useMemo)((function(){return D(t)}),[t]),o=le(n),i=ue(t,n),s=oe(t,u),f=n.findIndex((function(e){return null===e}));return a.a.createElement(A,null,a.a.createElement(J,null,c),n.map((function(e,n){return a.a.createElement(ee,{key:n,index:n,value:e,category:t,suggestion:f===n?0===s?"X":s:void 0,writeValue:l})})),a.a.createElement(T,null,o),a.a.createElement(T,null,i))},se=M(w),fe=function(e){var t=e.values,n=e.roll,r=e.writeValue,u=G(Object.keys(t).map((function(e){return le(t[e])}))),l=function(e){var t,n=-2,r=Object(ae.a)(ce);try{for(r.s();!(t=r.n()).done;){if(e<t.value)break;n++}}catch(a){r.e(a)}finally{r.f()}return n}(u),c=l+G(M(w).map((function(e){return ue(e,t[w[e]])})));return a.a.createElement(a.a.Fragment,null,a.a.createElement(X,null,a.a.createElement(Z,null),a.a.createElement("tbody",null,se.map((function(e){return a.a.createElement(ie,{key:e,category:e,values:t[w[e]],roll:n,writeValue:r})}))),a.a.createElement(Y,{extraPoints:l,total:u})),a.a.createElement(q,{points:c}))},de=n(9),me=n(7),be=n(8),ve=function(){function e(t,n,r){Object(me.a)(this,e),this.category=void 0,this.index=void 0,this.value=void 0,this.category=t,this.index=n,this.value=r}return Object(be.a)(e,[{key:"reduce",value:function(e){var t={};return Object.assign(t,e.values),t[w[this.category]][this.index]=this.value,Object(de.a)({},e,{values:t})}}]),e}();var pe=function(){var e=localStorage.getItem("state");if(null!==e)try{return JSON.parse(e)}catch(t){}return{values:Ee()}}();a.a.createContext({state:pe,dispatch:function(){}});function Ee(){return(e=w,Object.keys(e).filter((function(t){return"number"===typeof e[t]}))).reduce((function(e,t){return e[t]=[null,null,null,null],e}),{});var e}var je=n(11),he=function(e){var t=e.dice,n=e.locked,u=e.index,l=e.toggleLock,c=Object(r.useCallback)((function(){return l(u)}),[l,u]),o=n?"red":"white";switch(t){case 1:return a.a.createElement(je.FaDiceOne,Object.assign({},Oe,{color:o,onClick:c}));case 2:return a.a.createElement(je.FaDiceTwo,Object.assign({},Oe,{color:o,onClick:c}));case 3:return a.a.createElement(je.FaDiceThree,Object.assign({},Oe,{color:o,onClick:c}));case 4:return a.a.createElement(je.FaDiceFour,Object.assign({},Oe,{color:o,onClick:c}));case 5:return a.a.createElement(je.FaDiceFive,Object.assign({},Oe,{color:o,onClick:c}));case 6:return a.a.createElement(je.FaDiceSix,Object.assign({},Oe,{color:o,onClick:c}))}return null},Oe={size:60},ge=function(){function e(){Object(me.a)(this,e)}return Object(be.a)(e,[{key:"reduce",value:function(e){return Object(de.a)({},e,{locked:L(),roll:void 0,rollNumber:0})}}]),e}(),ye=function(){function e(){Object(me.a)(this,e)}return Object(be.a)(e,[{key:"reduce",value:function(e){return Object(de.a)({},e,{roll:W(e.locked,e.roll),rollNumber:e.rollNumber+1})}}]),e}(),ke=function(){function e(t){Object(me.a)(this,e),this.index=void 0,this.index=t}return Object(be.a)(e,[{key:"reduce",value:function(e){var t=this;return Object(de.a)({},e,{locked:e.locked.map((function(e,n){return t.index===n?!e:e}))})}}]),e}();function xe(e,t){return t.reduce(e)}a.a.createContext({});var we={rollNumber:0,locked:L()};function Ce(){var e=Object(c.a)(["\n\tdisplay: flex;\n\tjustify-content: right;\n\tmargin: 0 -6px -6px;\n"]);return Ce=function(){return e},e}var Fe=function(e){var t=e.clearBoard;return a.a.createElement(Se,null,a.a.createElement(S,{variant:"primary",onClick:t},"New game"))},Se=f.d.div(Ce()),Ne=function(){function e(){Object(me.a)(this,e)}return Object(be.a)(e,[{key:"reduce",value:function(e){return localStorage.removeItem("state"),Object(de.a)({},e,{values:Ee()})}}]),e}();function Be(){var e=Object(c.a)(["\n\tdisplay: flex;\n\tmargin: 6px -6px;\n"]);return Be=function(){return e},e}function Ie(){var e=Object(c.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-wrap: wrap;\n"]);return Ie=function(){return e},e}function De(){var e=Object(c.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n"]);return De=function(){return e},e}var He=function(){var e=Object(r.useReducer)(xe,we),t=Object(o.a)(e,2),n=t[0],u=t[1],l=Object(r.useReducer)(function(e){var t=e.onValueWritten;return function(e,n){var r=n.reduce(e);return localStorage.setItem("state",JSON.stringify(r)),n instanceof ve&&t&&t(),r}}({}),pe),c=Object(o.a)(l,2),i=c[0],s=c[1],f=Object(r.useState)(n.roll),d=Object(o.a)(f,2),m=d[0],b=d[1];Object(r.useEffect)((function(){return b(n.roll)}),[n.roll]);var v=Object(r.useCallback)((function(){var e=setInterval((function(){b(W(n.locked,n.roll))}),50);setTimeout((function(){clearInterval(e),u(new ye)}),1e3)}),[u,n]),p=Object(r.useCallback)((function(e){return u(new ke(e))}),[u]),E=Object(r.useCallback)((function(){u(new ge)}),[u]),j=Object(r.useCallback)((function(e,t,n){s(new ve(e,t,n)),E()}),[s,E]),h=Object(r.useCallback)((function(){s(new Ne),u(new ge)}),[s,u]);return a.a.createElement(Re,null,a.a.createElement(fe,{roll:n.roll,values:i.values,writeValue:j}),a.a.createElement("h3",null,0===n.rollNumber?"Roll your dice!":"Roll #".concat(n.rollNumber," of 3")),a.a.createElement(Ve,null,null===m||void 0===m?void 0:m.map((function(e,t){return a.a.createElement(he,{key:t,dice:e,index:t,toggleLock:p,locked:n.locked[t]})}))),a.a.createElement(ze,null,a.a.createElement(S,{variant:3===n.rollNumber?"disabled":"primary",onClick:v,disabled:3===n.rollNumber},"Roll")),a.a.createElement(Fe,{clearBoard:h}))},Re=f.d.div(De()),Ve=f.d.div(Ie()),ze=f.d.div(Be());function Xe(){var e=Object(c.a)(["\n\tmargin: 0 8px;\n\tfont-size: 1.2em;\n"]);return Xe=function(){return e},e}function Ae(){var e=Object(c.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n"]);return Ae=function(){return e},e}function Je(){var e=Object(c.a)(["\n\ta {\n\t\tcolor: ",";\n\t\ttext-decoration: none;\n\t}\n"]);return Je=function(){return e},e}var Te=function(){return a.a.createElement(Me,null,a.a.createElement(Pe,null,a.a.createElement(We,null,a.a.createElement(i.b,{to:"/"},"Game")),a.a.createElement(We,null,a.a.createElement(i.b,{to:"/rules"},"Rules"))))},Me=f.d.nav(Je(),g),Pe=Object(f.d)(N)(Ae()),We=Object(f.d)(B)(Xe());function Le(){var e=Object(c.a)(["\n\twidth: 100%;\n\tmax-width: 350px;\n"]);return Le=function(){return e},e}function Ge(){var e=Object(c.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-wrap: wrap;\n"]);return Ge=function(){return e},e}var Ke=[[w.Fours,"52 or more",2],[w.Fives,"65 or more",2],[w.Sixes,"78 or more",2],[w.Straight,"All straights",4],[w.FullHouse,"All full house",3],[w.Chance,"100 or more",2],[w.Balut,"Each balut",2]],$e=[[0,299,-2],[300,349,-1],[350,399,0],[400,449,1],[450,499,2],[500,549,3],[549,599,4],[600,649,5],[650,"or above",6]],qe=function(){return a.a.createElement(Qe,null,a.a.createElement(Ue,null,a.a.createElement("h3",null,"How to calculate points"),a.a.createElement(N,null,Ke.map((function(e){var t=Object(o.a)(e,3),n=t[0],r=t[1],u=t[2];return a.a.createElement(B,{key:n},a.a.createElement("span",null,D(n)," - ",r),a.a.createElement("strong",null,u," points"))}))),a.a.createElement("h4",null,"Extra points from total score"),a.a.createElement(N,null,$e.map((function(e){var t=Object(o.a)(e,3),n=t[0],r=t[1],u=t[2];return a.a.createElement(B,{key:u},a.a.createElement("span",null,n," - ",r),a.a.createElement("strong",null,u," points"))})))))},Qe=f.d.div(Ge()),Ue=f.d.div(Le());function Ye(){var e=Object(c.a)(["\n\tmargin: 0;\n\tfont-size: 3em;\n\ttext-decoration: none !important;\n"]);return Ye=function(){return e},e}function Ze(){var e=Object(c.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n"]);return Ze=function(){return e},e}function _e(){var e=Object(c.a)(["\n\tbody {\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\tfont-family: Futura;\n\t\t","\n\t}\n"]);return _e=function(){return e},e}function et(){var e=Object(c.a)(["\n\t","\n\tpadding: 12px;\n"]);return et=function(){return e},e}function tt(){var e=Object(c.a)(["\n\t\tbackground-color: ",";\n\t\tcolor: ",";\n\t"]);return tt=function(){return e},e}var nt=function(){var e,t=Object(r.useState)(null!==(e=localStorage.getItem("theme"))&&void 0!==e?e:"dark"),n=Object(o.a)(t,2),u=n[0],l=n[1];return Object(r.useCallback)((function(e){localStorage.setItem("theme",e),l(e)}),[l]),a.a.createElement(f.a,{theme:{mode:u}},a.a.createElement(ut,null),a.a.createElement(i.a,null,a.a.createElement(at,null,a.a.createElement(lt,null,a.a.createElement(ct,null,"Balut"),a.a.createElement(Te,null)),a.a.createElement("section",null,a.a.createElement(s.c,null,a.a.createElement(s.a,{path:"/chat"},a.a.createElement(I,null)),a.a.createElement(s.a,{path:"/rules"},a.a.createElement(qe,null)),a.a.createElement(s.a,{path:"/"},a.a.createElement(He,null)))))))},rt=m()("mode",{dark:Object(f.c)(tt(),p,v)}),at=f.d.main(et(),rt),ut=Object(f.b)(_e(),rt),lt=f.d.header(Ze()),ct=f.d.h1(Ye());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(nt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.09fa486e.chunk.js.map