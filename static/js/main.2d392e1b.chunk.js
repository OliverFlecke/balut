(this["webpackJsonpbalut-react"]=this["webpackJsonpbalut-react"]||[]).push([[0],{21:function(e,t,n){e.exports=n(28)},28:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),u=n(16),l=n.n(u),o=n(2),i=n(7),s=n(1),d=n(6),f=n.n(d);!function(e){e[e.Fours=0]="Fours",e[e.Fives=1]="Fives",e[e.Sixes=2]="Sixes",e[e.Straight=3]="Straight",e[e.FullHouse=4]="FullHouse",e[e.Choice=5]="Choice",e[e.Balut=6]="Balut"}(r||(r={}));var m="#CCC",v="#CCC",b="#000",p="#222",j=f()("mode",{dark:m});function O(){var e=Object(o.a)(["\n\tborder: 1px solid ",";\n\tpadding: 4px;\n\ttext-align: center;\n\tmin-width: 20px;\n"]);return O=function(){return e},e}function h(){var e=Object(o.a)(["\n\ttext-align: left;\n\tborder: 1px solid ",";\n\tpadding: 4px;\n"]);return h=function(){return e},e}function g(){var e=Object(o.a)([""]);return g=function(){return e},e}function E(){var e=Object(o.a)(["\n\tborder-collapse: collapse;\n\twidth: 100%;\n\tmax-width: ",";\n"]);return E=function(){return e},e}var k=s.d.table(E(),"760px"),x=s.d.tr(g()),y=s.d.th(h(),j),C=s.d.td(O(),j);function w(e){return Object.keys(e).filter((function(t){return"number"!==typeof e[t]})).map((function(e){return parseInt(e)}))}function S(){var e=Object(o.a)(["\n\tbackground-color: ",";\n\tcolor: ",";\n\tpadding: 10px;\n\tmargin: 6px;\n\tborder: none;\n\tborder-radius: 6px;\n\tfont-size: 1.2em;\n"]);return S=function(){return e},e}var F=f.a.variants("mode","variant",{disabled:{dark:"darkgray"},primary:{dark:"darkblue"}}),N=f.a.variants("mode","variant",{disabled:{dark:v},primary:{dark:v}}),I=s.d.button(S(),F,N),T=n(5),B=n(3),D=n(4);function H(e,t){var n=t.reduce(e);return localStorage.setItem("state",JSON.stringify(n)),n}var M=function(){var e=localStorage.getItem("state");if(null!==e)return JSON.parse(e);return{values:z()}}(),R=c.a.createContext({state:M,dispatch:function(){}});function z(){return(e=r,Object.keys(e).filter((function(t){return"number"===typeof e[t]}))).reduce((function(e,t){return e[t]=[void 0,void 0,void 0,void 0],e}),{});var e}var J=function(){function e(){Object(B.a)(this,e)}return Object(D.a)(e,[{key:"reduce",value:function(e){return localStorage.removeItem("state"),Object(T.a)({},e,{values:z()})}}]),e}();function L(){var e=Object(o.a)(["\n\tdisplay: flex;\n\tjustify-content: right;\n\tmargin: 0 -6px -6px;\n"]);return L=function(){return e},e}var P=function(){var e=Object(a.useContext)(R).dispatch,t=Object(a.useCallback)((function(){e(new J)}),[e]);return c.a.createElement(_,null,c.a.createElement(I,{variant:"primary",onClick:t},"Clear"))},_=s.d.div(L());function X(){var e=Object(o.a)(["\n\tfont-size: 1.4em;\n\tborder-bottom: 1px solid white;\n"]);return X=function(){return e},e}function A(){var e=Object(o.a)(["\n\tdisplay: flex;\n\twidth: 100%;\n\tjustify-content: flex-end;\n\tmargin: 6px 0;\n\tmax-width: ",";\n"]);return A=function(){return e},e}var U=function(e){var t=e.points;return c.a.createElement(W,null,c.a.createElement($,null,c.a.createElement("span",null,"Final score: "),c.a.createElement("span",null,t)))},W=s.d.div(A(),"760px"),$=s.d.div(X()),q=function(e){var t=e.total,n=e.extraPoints;return c.a.createElement("tfoot",null,c.a.createElement(x,null,c.a.createElement("td",{colSpan:5}),c.a.createElement(C,null,t),c.a.createElement(C,null,n)))},G=function(){function e(t){Object(B.a)(this,e),this.name=void 0,this.name=t}return Object(D.a)(e,[{key:"reduce",value:function(e){return console.log("Changing name ".concat(this.name)),Object(T.a)({},e,{name:this.name})}}]),e}();function K(){var e=Object(o.a)(["\n\twidth: 100%;\n\tflex-grow: 1;\n\tmargin: 0 6px;\n"]);return K=function(){return e},e}function Q(){var e=Object(o.a)(["\n\tdisplay: flex;\n"]);return Q=function(){return e},e}function V(){var e=Object(o.a)(["\n\ttext-align: left;\n\tborder: none;\n"]);return V=function(){return e},e}var Y=function(){var e,t=Object(a.useContext)(R),n=t.state,r=t.dispatch,u=Object(a.useCallback)((function(e){var t;r(new G(null!==(t=e.currentTarget.innerText)&&void 0!==t?t:void 0))}),[r]);return c.a.createElement("thead",null,c.a.createElement(x,null,c.a.createElement(Z,{colSpan:5},c.a.createElement(ee,null,"Name:",c.a.createElement(te,{contentEditable:!0,onBlur:u,dangerouslySetInnerHTML:{__html:null!==(e=n.name)&&void 0!==e?e:""}}))),c.a.createElement(C,null,"Total"),c.a.createElement(C,null,"Points")))},Z=Object(s.d)(C)(V()),ee=s.d.div(Q()),te=s.d.span(K()),ne=function(){function e(t,n,r){Object(B.a)(this,e),this.category=void 0,this.index=void 0,this.value=void 0,this.category=t,this.index=n,this.value=r}return Object(D.a)(e,[{key:"reduce",value:function(e){console.log("Changing value: ".concat(this.value));var t={};return Object.assign(t,e.values),t[r[this.category]][this.index]=this.value,Object(T.a)({},e,{values:t})}}]),e}();function re(){var e=Object(o.a)(["\n\tbackground-color: ",";\n"]);return re=function(){return e},e}var ae=function(e){var t=e.category,n=e.value,r=e.index,u=Object(a.useContext)(R).dispatch,l=Object(a.useCallback)((function(e){var n=e.currentTarget.textContent;if(null!==n){var a=Number(n);"X"===(null===n||void 0===n?void 0:n.toUpperCase())?u(new ne(t,r,n.toUpperCase())):isNaN(a)||u(new ne(t,r,a))}}),[t,u,r]);return c.a.createElement(le,{contentEditable:!0,onBlur:l,dangerouslySetInnerHTML:{__html:ce(n)}})};function ce(e){return void 0===e||null===e||0===e?"":"X"===e?"X":e.toString()}var ue=f()("mode",{dark:p}),le=Object(s.d)(C)(re(),ue),oe=n(20);function ie(e,t){switch(e){case r.Balut:return 2*t.filter((function(e){return"number"===typeof e&&0!==e})).length;case r.Choice:return se(t)>=100?2:0;case r.FullHouse:return 4===t.filter((function(e){return"number"===typeof e})).length?3:0;case r.Straight:return 4===t.filter((function(e){return"number"===typeof e})).length?4:0;case r.Sixes:return se(t)>=78?2:0;case r.Fives:return se(t)>=65?2:0;case r.Fours:return se(t)>=52?2:0}}function se(e){return e.filter((function(e){return"number"===typeof e})).map((function(e){return e})).reduce((function(e,t){return e+t}),0)}var de=[300,350,400,450,500,550,600,650];var fe=function(e){var t=e.category,n=e.values,a=se(n),u=ie(t,n);return c.a.createElement(x,null,c.a.createElement(y,null,r[t]),n.map((function(e,n){return c.a.createElement(ae,{key:n,index:n,value:e,category:t})})),c.a.createElement(C,null,0!==a?a:""),c.a.createElement(C,null,u))},me=w(r),ve=function(){var e=Object(a.useCallback)(H,[]),t=Object(a.useReducer)(e,M),n=Object(i.a)(t,2),u=n[0],l=n[1],o=Object.keys(u.values).map((function(e){return se(u.values[e])})).reduce((function(e,t){return e+t})),s=function(e){var t,n=-2,r=Object(oe.a)(de);try{for(r.s();!(t=r.n()).done;){if(e<t.value)break;n++}}catch(a){r.e(a)}finally{r.f()}return n}(o),d=s+w(r).map((function(e){return ie(e,u.values[r[e]])})).reduce((function(e,t){return e+t}),0);return c.a.createElement(R.Provider,{value:{state:u,dispatch:l}},c.a.createElement(k,null,c.a.createElement(Y,null),c.a.createElement("tbody",null,me.map((function(e){return c.a.createElement(fe,{key:e,category:e,values:u.values[r[e]]})}))),c.a.createElement(q,{extraPoints:s,total:o})),c.a.createElement(U,{points:d}),c.a.createElement(P,null))},be=n(8),pe=function(e){var t=e.dice,n=e.locked,r=e.index,u=e.toggleLock,l=Object(a.useCallback)((function(){return u(r)}),[u,r]),o=n?"red":"white";switch(t){case 1:return c.a.createElement(be.FaDiceOne,Object.assign({},je,{color:o,onClick:l}));case 2:return c.a.createElement(be.FaDiceTwo,Object.assign({},je,{color:o,onClick:l}));case 3:return c.a.createElement(be.FaDiceThree,Object.assign({},je,{color:o,onClick:l}));case 4:return c.a.createElement(be.FaDiceFour,Object.assign({},je,{color:o,onClick:l}));case 5:return c.a.createElement(be.FaDiceFive,Object.assign({},je,{color:o,onClick:l}));case 6:return c.a.createElement(be.FaDiceSix,Object.assign({},je,{color:o,onClick:l}))}return null},je={size:80},Oe=n(13);function he(e,t){return(null!==t&&void 0!==t?t:Object(Oe.a)(Array(5))).map((function(t,n){return e[n]?t:Math.floor(6*Math.random())+1}))}function ge(){return Object(Oe.a)(Array(5)).map((function(){return!1}))}var Ee=function(){function e(){Object(B.a)(this,e)}return Object(D.a)(e,[{key:"reduce",value:function(e){return Object(T.a)({},e,{roll:he(e.locked,e.roll),rollNumber:e.rollNumber+1})}}]),e}();function ke(e,t){return t.reduce(e)}c.a.createContext({});var xe={rollNumber:0,locked:ge()},ye=function(){function e(t){Object(B.a)(this,e),this.index=void 0,this.index=t}return Object(D.a)(e,[{key:"reduce",value:function(e){var t=this;return Object(T.a)({},e,{locked:e.locked.map((function(e,n){return t.index===n?!e:e}))})}}]),e}(),Ce=function(){function e(){Object(B.a)(this,e)}return Object(D.a)(e,[{key:"reduce",value:function(e){return Object(T.a)({},e,{locked:ge(),roll:void 0,rollNumber:0})}}]),e}();function we(){var e=Object(o.a)(["\n\tdisplay: flex;\n\tmargin: 6px -6px;\n"]);return we=function(){return e},e}function Se(){var e=Object(o.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-wrap: wrap;\n"]);return Se=function(){return e},e}function Fe(){var e=Object(o.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n"]);return Fe=function(){return e},e}var Ne=function(){var e=Object(a.useReducer)(ke,xe),t=Object(i.a)(e,2),n=t[0],r=t[1],u=Object(a.useState)(n.roll),l=Object(i.a)(u,2),o=l[0],s=l[1];Object(a.useEffect)((function(){return s(n.roll)}),[n.roll]);var d=Object(a.useCallback)((function(){var e=setInterval((function(){s(he(n.locked,n.roll))}),50);setTimeout((function(){clearInterval(e),r(new Ee)}),1e3)}),[r,n]),f=Object(a.useCallback)((function(e){return r(new ye(e))}),[r]),m=Object(a.useCallback)((function(){r(new Ce)}),[r]);return c.a.createElement(Ie,null,c.a.createElement("h3",null,0===n.rollNumber?"Roll your dice!":"Roll #".concat(n.rollNumber," of 3")),c.a.createElement(Te,null,null===o||void 0===o?void 0:o.map((function(e,t){return c.a.createElement(pe,{key:t,dice:e,index:t,toggleLock:f,locked:n.locked[t]})}))),c.a.createElement(Be,null,c.a.createElement(I,{variant:3===n.rollNumber?"disabled":"primary",onClick:d,disabled:3===n.rollNumber},"Roll"),c.a.createElement(I,{variant:"primary",onClick:m},"New turn")))},Ie=s.d.div(Fe()),Te=s.d.div(Se()),Be=s.d.div(we());function De(){var e=Object(o.a)(["\n\tmargin: 0;\n\tfont-size: 3em;\n"]);return De=function(){return e},e}function He(){var e=Object(o.a)(["\n\tbody {\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\tfont-family: Futura;\n\t\t","\n\t}\n"]);return He=function(){return e},e}function Me(){var e=Object(o.a)(["\n\t","\n\tpadding: 12px;\n"]);return Me=function(){return e},e}function Re(){var e=Object(o.a)(["\n\t\tbackground-color: ",";\n\t\tcolor: ",";\n\t"]);return Re=function(){return e},e}var ze=function(){var e,t=Object(a.useState)(null!==(e=localStorage.getItem("theme"))&&void 0!==e?e:"dark"),n=Object(i.a)(t,2),r=n[0];return n[1],c.a.createElement(s.a,{theme:{mode:r}},c.a.createElement(Pe,null),c.a.createElement(Le,null,c.a.createElement("header",null,c.a.createElement(_e,null,"Balut")),c.a.createElement("section",null,c.a.createElement(ve,null)),c.a.createElement("section",null,c.a.createElement(Ne,null))))},Je=f()("mode",{dark:Object(s.c)(Re(),b,v)}),Le=s.d.main(Me(),Je),Pe=Object(s.b)(He(),Je),_e=s.d.h1(De());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.2d392e1b.chunk.js.map